<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<event category="KEYPRESS" id="13">
  <actions>
    <action id="603" library="1">
      <!--action name: Code-->
      <kind>CODE</kind>
      <allowRelative>false</allowRelative>
      <question>false</question>
      <canApplyTo>true</canApplyTo>
      <actionType>CODE</actionType>
      <functionName/>
      <relative>false</relative>
      <not>false</not>
      <appliesTo>.self</appliesTo>
      <arguments>
        <argument kind="STRING">if editing != -1 { 
    //if the user enters a non-integer, convert it
    global.classlimits[CLASS_SCOUT] = floor(real(value[0]))
    value[0] = global.classlimits[CLASS_SCOUT]
    global.classlimits[CLASS_PYRO] = floor(real(value[1]))
    value[1] = global.classlimits[CLASS_PYRO]
    global.classlimits[CLASS_SOLDIER] = floor(real(value[2]))
    value[2] = global.classlimits[CLASS_SOLDIER]
    
    global.classlimits[CLASS_HEAVY] = floor(real(value[3]))
    value[3] = global.classlimits[CLASS_HEAVY]
    global.classlimits[CLASS_DEMOMAN] = floor(real(value[4]))
    value[4] = global.classlimits[CLASS_DEMOMAN]
    global.classlimits[CLASS_MEDIC] = floor(real(value[5]))
    value[5] = global.classlimits[CLASS_MEDIC]
    
    global.classlimits[CLASS_ENGINEER] = floor(real(value[6]))
    value[6] = global.classlimits[CLASS_ENGINEER]
    global.classlimits[CLASS_SPY] = floor(real(value[7]))
    value[7] = global.classlimits[CLASS_SPY]
    global.classlimits[CLASS_SNIPER] = floor(real(value[8]))
    value[8] = global.classlimits[CLASS_SNIPER]
    
    global.classlimits[CLASS_QUOTE] = floor(real(value[9]))
    value[9] = global.classlimits[CLASS_QUOTE]

    ini_open("gg2.ini");
    ini_write_real("Server", "Runner Class Limit", global.classlimits[CLASS_SCOUT])
    ini_write_real("Server", "Firebug Class Limit", global.classlimits[CLASS_PYRO])
    ini_write_real("Server", "Rocketman Class Limit", global.classlimits[CLASS_SOLDIER])
    ini_write_real("Server", "Overweight Class Limit", global.classlimits[CLASS_HEAVY])
    ini_write_real("Server", "Detonator Class Limit", global.classlimits[CLASS_DEMOMAN])
    ini_write_real("Server", "Healer Class Limit", global.classlimits[CLASS_MEDIC])
    ini_write_real("Server", "Constructor Class Limit", global.classlimits[CLASS_ENGINEER])
    ini_write_real("Server", "Infiltrator Class Limit", global.classlimits[CLASS_SPY])
    ini_write_real("Server", "Rifleman Class Limit", global.classlimits[CLASS_SNIPER])
    ini_write_real("Server", "Quote Class Limit", global.classlimits[CLASS_QUOTE])
    ini_close();
    editing = -1;
}
</argument>
      </arguments>
    </action>
  </actions>
</event>
